<!--******************************************************
* APP - Projet Système Numérique - Composante Informatique
* ISEP - A1 - G7C
* Semestre 2
* Auteur : - MAILLEY_Charles 
           - MAIZA_Fares
           - MARTINEZ_Eliot
           - PAVIOT-ADET_Flore
           - SPASOJEVIC_Fanny
           - VINGADASSAMY_Prasanaa
* Date de rendu  : 05/06/2023
********************************************************-->

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <!-------------------------------------------->
    <!-- Nom de votre page -->
    <title>APNEA</title>
    <!-------------------------------------------->
    <link rel="icon" type="image/x-icon" href="Ressources/img/Logo_Appea-color.svg1">
    <link rel="stylesheet" href="Ressources/css/allPage.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="Ressources/bitmap/boxicons/css/boxicons.min.css" rel="stylesheet">
    <!-------------------------------------------->
    <!-- Lien vers la feuille CSS de votre page -->
    <link rel="stylesheet" href="Ressources/css/guest/main.css" />
    <!-------------------------------------------->

    <!-- Load d3.js -->
    <script src="https://d3js.org/d3.v4.js"></script>
    <!-- Circle are black when hovered-->
    <style>

      h1{
        text-align: center;
      }


      .myCircle:hover {
        stroke: black;
      }

      .allGraphs{
        border: 2px solid white;
        display: flex;
        justify-content: space-around;
        flex-direction: column;
      }

      .Line{
        display: flex;
        flex-direction: row;
        justify-content: center;
        padding-bottom: 1.5%;
        padding-top: 1.5%;
      }

      .firstGraph{
        display: block;
        border: 2px solid red;
        background-color: aliceblue;
        margin-right: 1.5%;
      }

      .secondGraph{
        display: inline-block;
        border: 2px solid green;
        background-color: white;
        margin-left: 1.5%;
      }

      .thirdGraph{
        display: inline-block;
        border: 2px solid green;
        background-color: white;
        margin-right: 1.5%;
      }

      .forthGraph{
        display: inline-block;
        border: 2px solid red;
        background-color: aliceblue;
        margin-left: 1.5%;
      }

      .vertical-lign{
        border: 2px solid grey;
      }

      .horizontal-lign{
        border: 2px solid grey;
      }
    </style>
    

</head>
<body>

    <!-- Ne sert à rien de modifier cette partie -->
    <header class="header_all">
        <div class="header_left">
            <a class="header_title" href="#"><img class="header_logo" src="Ressources/img/Logo_Appea-grey.svg" alt="Logo APPNEA">APPNEA</a>
            <a class="header_title" >__Choix lang</a>
        </div> <ul class="header_right">
            <li><a href='#'>Produits</a></li>
            <li><a href='#'>Capteurs</a></li>
            <li><a href='#'>Equipe</a></li>
            <li><a href='#'>FAQ</a></li>
            <li class="header_conn"><a href="#">Connexion</a></li> </ul>
    </header>
    
    

    




    <!-- Pour régler la longeur de la page : changer la valeur du height-->
    <main style="height:1530px;">

      <br>
      <h1>Vos Capteurs</h1>
      <br>
        
      <div class="allGraphs">

          <div class="Line">
              <div id="first" class="firstGraph">
                <script>

                  // set the dimensions and margins of the graph
                  var margin = {top: 10, right: 30, bottom: 30, left: 60},
                      width = 460 - margin.left - margin.right,
                      height = 400 - margin.top - margin.bottom;
                  
                  // append the svg1 object to the body of the page
                  var svg1 = d3.select("#first")
                    .append("svg")
                      .attr("width", width + margin.left + margin.right)
                      .attr("height", height + margin.top + margin.bottom)
                    .append("g")
                      .attr("transform",
                            "translate(" + margin.left + "," + margin.top + ")");
                  
                  //Read the data
                  d3.csv("https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/connectedscatter.csv",
                  
                    // When reading the csv, I must format variables:
                    function(d){
                      return { date : d3.timeParse("%Y-%m-%d")(d.date), value : d.value }
                    },
                  
                    // Now I can use this dataset:
                    function(data) {
                  
                      // Add X axis --> it is a date format
                      var x = d3.scaleTime()
                        .domain(d3.extent(data, function(d) { return d.date; }))
                        .range([ 0, width ]);
                      svg1.append("g")
                        .attr("transform", "translate(0," + height + ")")
                        .call(d3.axisBottom(x));
                  
                      // Add Y axis
                      var y = d3.scaleLinear()
                        .domain( [8000, 9200])
                        .range([ height, 0 ]);
                      svg1.append("g")
                        .call(d3.axisLeft(y));
                  
                      // Add the line
                      svg1.append("path")
                        .datum(data)
                        .attr("fill", "none")
                        .attr("stroke", "black")
                        .attr("stroke-width", 1.5)
                        .attr("d", d3.line()
                          .curve(d3.curveBasis) // Just add that to have a curve instead of segments
                          .x(function(d) { return x(d.date) })
                          .y(function(d) { return y(d.value) })
                          )
                  
                      // create a tooltip
                      var Tooltip = d3.select("#first")
                        .append("div")
                        .style("opacity", 0)
                        .attr("class", "tooltip")
                        .style("background-color", "black")
                        .style("border", "solid")
                        .style("border-width", "2px")
                        .style("border-radius", "5px")
                        .style("padding", "5px")
                        .style("position", "relative")
                  
                        // Three function that change the tooltip when user hover / move / leave a cell
                        var mouseover = function(d) {
                          Tooltip
                            .style("opacity", 1)
                        }
                        var mousemove = function(d) {
                          Tooltip
                            .html("Exact value: " + d.value)
                            .style("left", (d3.mouse(this)[0]+ 60) + "px")
                            .style("top", (d3.mouse(this)[1]-390) + "px")
                        }
                        var mouseleave = function(d) {
                          Tooltip
                            .style("opacity", 0)
                        }
                  
                      // Add the points
                      svg1
                        .append("g")
                        .selectAll("dot")
                        .data(data)
                        .enter()
                        .append("circle")
                          .attr("class", "myCircle")
                          .attr("cx", function(d) { return x(d.date) } )
                          .attr("cy", function(d) { return y(d.value) } )
                          .attr("r", 4)
                          .attr("stroke", "#69b3a2")
                          .attr("stroke-width", 3)
                          .attr("fill", "white")
                          .on("mouseover", mouseover)
                          .on("mousemove", mousemove)
                          .on("mouseleave", mouseleave)
                  })
                  
                  
                  </script>
              </div>

              <div class="vertical-lign"></div>


              <div id="second" class="secondGraph">   
                
                <script>

                  // set the dimensions and margins of the graph
                  var margin = {top: 10, right: 30, bottom: 30, left: 60},
                      width = 460 - margin.left - margin.right,
                      height = 400 - margin.top - margin.bottom;
                  
                  // append the svg object to the body of the page
                  var svg2 = d3.select("#second")
                    .append("svg")
                      .attr("width", width + margin.left + margin.right)
                      .attr("height", height + margin.top + margin.bottom)
                    .append("g")
                      .attr("transform",
                            "translate(" + margin.left + "," + margin.top + ")");
                  
                  //Read the data
                  
                 var data = [ { "x": 1, "y": 0.03 }, { "x": 2, "y": 0.04 }, { "x": 3, "y": 0.06 }, { "x": 4, "y": 0.09 }, { "x": 5, "y": 0.13 }, { "x": 6, "y": 0.18 }, { "x": 7, "y": 0.25 }, { "x": 8, "y": 0.33 }, { "x": 9, "y": 0.45 }, { "x": 10, "y": 0.59 }, { "x": 11, "y": 0.76 }, { "x": 12, "y": 0.97 }, { "x": 13, "y": 1.22 }, { "x": 14, "y": 1.52 }, { "x": 15, "y": 1.85 }, { "x": 16, "y": 2.24 }, { "x": 17, "y": 2.66 }, { "x": 18, "y": 3.13 }, { "x": 19, "y": 3.63 }, { "x": 20, "y": 4.16 }, { "x": 21, "y": 4.71 }, { "x": 22, "y": 5.27 }, { "x": 23, "y": 5.83 }, { "x": 24, "y": 6.38 }, { "x": 25, "y": 6.91 }, { "x": 26, "y": 7.4 }, { "x": 27, "y": 7.85 }, { "x": 28, "y": 8.25 }, { "x": 29, "y": 8.59 }, { "x": 43, "y": 7.08 }, { "x": 44, "y": 6.76 }, { "x": 45, "y": 6.43 }, { "x": 46, "y": 6.11 }, { "x": 47, "y": 5.81 }, { "x": 48, "y": 5.51 }, { "x": 49, "y": 5.24 }, { "x": 50, "y": 4.98 }, { "x": 51, "y": 4.74 }, { "x": 52, "y": 4.52 }, { "x": 53, "y": 4.32 }, { "x": 70, "y": 2.77 }, { "x": 71, "y": 2.73 }, { "x": 72, "y": 2.68 }, { "x": 73, "y": 2.64 }, { "x": 74, "y": 2.6 }, { "x": 75, "y": 2.56 }, { "x": 76, "y": 2.52 }, { "x": 77, "y": 2.47 }, { "x": 78, "y": 2.43 }, { "x": 79, "y": 2.39 }, { "x": 80, "y": 2.34 }, { "x": 81, "y": 2.29 }, { "x": 82, "y": 2.24 }, { "x": 83, "y": 2.19 }, { "x": 84, "y": 2.13 }, { "x": 85, "y": 2.08 }, { "x": 86, "y": 2.02 }, { "x": 87, "y": 1.96 }, { "x": 88, "y": 1.89 }, { "x": 89, "y": 1.83 }, { "x": 90, "y": 1.76 }, { "x": 91, "y": 1.69 }, { "x": 92, "y": 1.62 }, { "x": 93, "y": 1.54 }, { "x": 94, "y": 1.47 }, { "x": 95, "y": 1.39 }, { "x": 96, "y": 1.32 }, { "x": 97, "y": 1.24 }, { "x": 98, "y": 1.17 }, { "x": 99, "y": 1.09 }, { "x": 100, "y": 1.02 } ] 

                  // Add X axis --> it is a date format
                  var x = d3.scaleLinear()
                    .domain([1,100])
                    .range([ 0, width ]);
                  svg2.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(d3.axisBottom(x));
                
                  // Add Y axis
                  var y = d3.scaleLinear()
                    .domain([0, 13])
                    .range([ height, 0 ]);
                  svg2.append("g")
                    .call(d3.axisLeft(y));

                  // This allows to find the closest X index of the mouse:
                  var bisect = d3.bisector(function(d) { return d.x; }).left;

                  // Create the circle that travels along the curve of chart
                  var focus = svg2.append('g')
                    .append('circle')
                    .style("fill", "none")
                    .attr("stroke", "black")
                    .attr('r', 8.5)
                    .style("opacity", 0);

                  // Create the text that travels along the curve of chart
                  var focusText = svg2.append('g')
                    .append('text')
                    .style("opacity", 0)
                    .attr("text-anchor", "left")
                    .attr("alignment-baseline", "middle");

                  // Add the line
                  svg2.append("path")
                    .datum(data)
                    .attr("fill", "none")
                    .attr("stroke", "steelblue")
                    .attr("stroke-width", 1.5)
                    .attr("d", d3.line()
                      .x(function(d) { return x(d.x) })
                      .y(function(d) { return y(d.y) }));

                  // Create a rect on top of the svg area: this rectangle recovers mouse position
                  svg2.append('rect')
                    .style("fill", "none")
                    .style("pointer-events", "all")
                    .attr('width', width)
                    .attr('height', height)
                    .on('mouseover', mouseover)
                    .on('mousemove', mousemove)
                    .on('mouseout', mouseout);

                  // What happens when the mouse move -> show the annotations at the right positions.
                  function mouseover() {
                    focus.style("opacity", 1);
                    focusText.style("opacity", 1);
                  }

                  function mousemove() {
                    // recover coordinate we need
                    var x0 = x.invert(d3.mouse(this)[0]);
                    var i = bisect(data, x0, 1);
                    selectedData = data[i];
                    focus
                      .attr("cx", x(selectedData.x))
                      .attr("cy", y(selectedData.y));
                    focusText
                      .html("x:" + selectedData.x + "  -  " + "y:" + selectedData.y)
                      .attr("x", x(selectedData.x) + 15)
                      .attr("y", y(selectedData.y));
                  }

                  function mouseout() {
                    focus.style("opacity", 0);
                    focusText.style("opacity", 0);
                  }

                  
                  </script>


              </div>
          </div>

          <div class="horizontal-lign"></div>

          <div class="Line">
            <div id="third" class="thirdGraph">
              <script>

                // set the dimensions and margins of the graph
                var margin = {top: 10, right: 30, bottom: 30, left: 60},
                    width = 460 - margin.left - margin.right,
                    height = 400 - margin.top - margin.bottom;
                
                // append the svg object to the body of the page
                var svg3 = d3.select("#third")
                  .append("svg")
                    .attr("width", width + margin.left + margin.right)
                    .attr("height", height + margin.top + margin.bottom)
                  .append("g")
                    .attr("transform",
                          "translate(" + margin.left + "," + margin.top + ")");
                
                //Read the data
                d3.csv("https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/data_IC.csv",function(data) {
                
                  // Add X axis --> it is a date format
                  var x = d3.scaleLinear()
                    .domain([1,100])
                    .range([ 0, width ]);
                  svg3.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(d3.axisBottom(x));
                
                  // Add Y axis
                  var y = d3.scaleLinear()
                    .domain([0, 13])
                    .range([ height, 0 ]);
                  svg3.append("g")
                    .call(d3.axisLeft(y));
                
                  // This allows to find the closest X index of the mouse:
                  var bisect = d3.bisector(function(d) { return d.x; }).left;
                
                  // Create the circle that travels along the curve of chart
                  var focus = svg3
                    .append('g')
                    .append('circle')
                      .style("fill", "none")
                      .attr("stroke", "black")
                      .attr('r', 8.5)
                      .style("opacity", 0)
                
                  // Create the text that travels along the curve of chart
                  var focusText = svg3
                    .append('g')
                    .append('text')
                      .style("opacity", 0)
                      .attr("text-anchor", "left")
                      .attr("alignment-baseline", "middle")
                
                  // Add the line
                  svg3
                    .append("path")
                    .datum(data)
                    .attr("fill", "none")
                    .attr("stroke", "steelblue")
                    .attr("stroke-width", 1.5)
                    .attr("d", d3.line()
                      .x(function(d) { return x(d.x) })
                      .y(function(d) { return y(d.y) })
                      )
                
                  // Create a rect on top of the svg area: this rectangle recovers mouse position
                  svg3
                    .append('rect')
                    .style("fill", "none")
                    .style("pointer-events", "all")
                    .attr('width', width)
                    .attr('height', height)
                    .on('mouseover', mouseover)
                    .on('mousemove', mousemove)
                    .on('mouseout', mouseout);
                
                
                  // What happens when the mouse move -> show the annotations at the right positions.
                  function mouseover() {
                    focus.style("opacity", 1)
                    focusText.style("opacity",1)
                  }
                
                  function mousemove() {
                    // recover coordinate we need
                    var x0 = x.invert(d3.mouse(this)[0]);
                    var i = bisect(data, x0, 1);
                    selectedData = data[i]
                    focus
                      .attr("cx", x(selectedData.x))
                      .attr("cy", y(selectedData.y))
                    focusText
                      .html("x:" + selectedData.x + "  -  " + "y:" + selectedData.y)
                      .attr("x", x(selectedData.x)+15)
                      .attr("y", y(selectedData.y))
                    }
                  function mouseout() {
                    focus.style("opacity", 0)
                    focusText.style("opacity", 0)
                  }
                
                })
                
                </script>
            </div>

            <div class="vertical-lign"></div>

            <div id="forth" class="forthGraph">
              <script>

                // set the dimensions and margins of the graph
                var margin = {top: 10, right: 30, bottom: 30, left: 60},
                    width = 460 - margin.left - margin.right,
                    height = 400 - margin.top - margin.bottom;
                
                // append the svg object to the body of the page
                var svg4 = d3.select("#forth")
                  .append("svg")
                    .attr("width", width + margin.left + margin.right)
                    .attr("height", height + margin.top + margin.bottom)
                  .append("g")
                    .attr("transform",
                          "translate(" + margin.left + "," + margin.top + ")");
                
                //Read the data
                d3.csv("https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/data_IC.csv",function(data) {
                
                  // Add X axis --> it is a date format
                  var x = d3.scaleLinear()
                    .domain([1,100])
                    .range([ 0, width ]);
                  svg4.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(d3.axisBottom(x));
                
                  // Add Y axis
                  var y = d3.scaleLinear()
                    .domain([0, 13])
                    .range([ height, 0 ]);
                  svg4.append("g")
                    .call(d3.axisLeft(y));
                
                  // This allows to find the closest X index of the mouse:
                  var bisect = d3.bisector(function(d) { return d.x; }).left;
                
                  // Create the circle that travels along the curve of chart
                  var focus = svg4
                    .append('g')
                    .append('circle')
                      .style("fill", "none")
                      .attr("stroke", "black")
                      .attr('r', 8.5)
                      .style("opacity", 0)
                
                  // Create the text that travels along the curve of chart
                  var focusText = svg4
                    .append('g')
                    .append('text')
                      .style("opacity", 0)
                      .attr("text-anchor", "left")
                      .attr("alignment-baseline", "middle")
                
                  // Add the line
                  svg4
                    .append("path")
                    .datum(data)
                    .attr("fill", "none")
                    .attr("stroke", "steelblue")
                    .attr("stroke-width", 1.5)
                    .attr("d", d3.line()
                      .x(function(d) { return x(d.x) })
                      .y(function(d) { return y(d.y) })
                      )
                
                  // Create a rect on top of the svg area: this rectangle recovers mouse position
                  svg4
                    .append('rect')
                    .style("fill", "none")
                    .style("pointer-events", "all")
                    .attr('width', width)
                    .attr('height', height)
                    .on('mouseover', mouseover)
                    .on('mousemove', mousemove)
                    .on('mouseout', mouseout);
                
                
                  // What happens when the mouse move -> show the annotations at the right positions.
                  function mouseover() {
                    focus.style("opacity", 1)
                    focusText.style("opacity",1)
                  }
                
                  function mousemove() {
                    // recover coordinate we need
                    var x0 = x.invert(d3.mouse(this)[0]);
                    var i = bisect(data, x0, 1);
                    selectedData = data[i]
                    focus
                      .attr("cx", x(selectedData.x))
                      .attr("cy", y(selectedData.y))
                    focusText
                      .html("x:" + selectedData.x + "  -  " + "y:" + selectedData.y)
                      .attr("x", x(selectedData.x)+15)
                      .attr("y", y(selectedData.y))
                    }
                  function mouseout() {
                    focus.style("opacity", 0)
                    focusText.style("opacity", 0)
                  }
                
                })
                
                </script>
            </div>
          </div>

      </div>





    </main>





    <!-- Ne sert à rien de modifier cette partie -->
    <footer class="footer">
        <div class="footer_top"><div><h3>Contact</h3><ul>
            <li> <div class="numberPhone_all"><div class="numberPhone_left">00 11 22 33 44 55</div><div class="numberPhone_right">FREE</div></div></li>
            <li><i class="bx bx-chevron-right"></i> <a href="#">mail@mail.com</a></li>
        </ul></div> <div><h3>Aide et mentions</h3><ul>
            <li><i class="bx bx-chevron-right"></i> <a href="#">Politique de confidentialité</a></li>
            <li><i class="bx bx-chevron-right"></i> <a href="#">CGU & Mentions légales</a></li>
            <li><i class="bx bx-chevron-right"></i> <a href="#">Données personnelles & Cookies</a></li>
            <li><i class="bx bx-chevron-right"></i> <a href="#">Aide</a></li>
        </ul> </div><div> <h3>Find use</h3><ul>
            <a class="footer_icon" href="#"><i class="bx bxl-facebook"></i></a>
            <a class="footer_icon" href="#"><i class="bx bxl-instagram"></i></a>
            <a class="footer_icon" href="#"><i class="bx bxl-twitter"></i></a>  
        </ul> </div> </div><div class="footer_bottom"><i class='bx bx-copyright' ></i>Propriété privé</div>
    </footer>

    
</body>
</html>
